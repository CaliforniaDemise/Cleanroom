--- before/net/minecraft/item/crafting/RecipeFireworks.java
+++ after/net/minecraft/item/crafting/RecipeFireworks.java
@@ -10,10 +10,8 @@
 import net.minecraft.nbt.NBTTagList;
 import net.minecraft.util.NonNullList;
 import net.minecraft.world.World;
-import net.minecraftforge.fml.relauncher.Side;
-import net.minecraftforge.fml.relauncher.SideOnly;
 
-public class RecipeFireworks implements IRecipe
+public class RecipeFireworks extends net.minecraftforge.registries.IForgeRegistryEntry.Impl<IRecipe> implements IRecipe
 {
     private ItemStack field_92102_a = ItemStack.field_190927_a;
 
@@ -41,7 +39,7 @@
                 {
                     ++l;
                 }
-                else if (itemstack.func_77973_b() == Items.field_151100_aR)
+                else if (net.minecraftforge.oredict.DyeUtils.isDye(itemstack))
                 {
                     ++k;
                 }
@@ -81,7 +79,7 @@
             }
         }
 
-        i1 += k + j1;
+        i1 = i1 + k + j1;
 
         if (j <= 3 && i <= 1)
         {
@@ -119,7 +117,7 @@
                 NBTTagCompound nbttagcompound = new NBTTagCompound();
                 NBTTagCompound nbttagcompound2 = new NBTTagCompound();
                 byte b0 = 0;
-                List<Integer> list = Lists.newArrayList();
+                List<Integer> list = Lists.<Integer>newArrayList();
 
                 for (int l1 = 0; l1 < p_77569_1_.func_70302_i_(); ++l1)
                 {
@@ -127,9 +125,9 @@
 
                     if (!itemstack2.func_190926_b())
                     {
-                        if (itemstack2.func_77973_b() == Items.field_151100_aR)
+                        if (net.minecraftforge.oredict.DyeUtils.isDye(itemstack2))
                         {
-                            list.add(ItemDye.field_150922_c[itemstack2.func_77960_j() & 15]);
+                            list.add(Integer.valueOf(ItemDye.field_150922_c[net.minecraftforge.oredict.DyeUtils.rawDyeDamageFromStack(itemstack2) & 15]));
                         }
                         else if (itemstack2.func_77973_b() == Items.field_151114_aO)
                         {
@@ -162,7 +160,7 @@
 
                 for (int l2 = 0; l2 < aint1.length; ++l2)
                 {
-                    aint1[l2] = list.get(l2);
+                    aint1[l2] = ((Integer)list.get(l2)).intValue();
                 }
 
                 nbttagcompound2.func_74783_a("Colors", aint1);
@@ -173,7 +171,7 @@
             }
             else if (j == 0 && i == 0 && l == 1 && k > 0 && k == i1)
             {
-                List<Integer> list1 = Lists.newArrayList();
+                List<Integer> list1 = Lists.<Integer>newArrayList();
 
                 for (int i2 = 0; i2 < p_77569_1_.func_70302_i_(); ++i2)
                 {
@@ -181,9 +179,9 @@
 
                     if (!itemstack1.func_190926_b())
                     {
-                        if (itemstack1.func_77973_b() == Items.field_151100_aR)
+                        if (net.minecraftforge.oredict.DyeUtils.isDye(itemstack1))
                         {
-                            list1.add(ItemDye.field_150922_c[itemstack1.func_77960_j() & 15]);
+                            list1.add(Integer.valueOf(ItemDye.field_150922_c[net.minecraftforge.oredict.DyeUtils.rawDyeDamageFromStack(itemstack1) & 15]));
                         }
                         else if (itemstack1.func_77973_b() == Items.field_151154_bQ)
                         {
@@ -197,7 +195,7 @@
 
                 for (int j2 = 0; j2 < aint.length; ++j2)
                 {
-                    aint[j2] = list1.get(j2);
+                    aint[j2] = ((Integer)list1.get(j2)).intValue();
                 }
 
                 if (!this.field_92102_a.func_190926_b() && this.field_92102_a.func_77942_o())
@@ -242,16 +240,13 @@
 
     public NonNullList<ItemStack> func_179532_b(InventoryCrafting p_179532_1_)
     {
-        NonNullList<ItemStack> nonnulllist = NonNullList.func_191197_a(p_179532_1_.func_70302_i_(), ItemStack.field_190927_a);
+        NonNullList<ItemStack> nonnulllist = NonNullList.<ItemStack>func_191197_a(p_179532_1_.func_70302_i_(), ItemStack.field_190927_a);
 
         for (int i = 0; i < nonnulllist.size(); ++i)
         {
             ItemStack itemstack = p_179532_1_.func_70301_a(i);
 
-            if (itemstack.func_77973_b().func_77634_r())
-            {
-                nonnulllist.set(i, new ItemStack(itemstack.func_77973_b().func_77668_q()));
-            }
+            nonnulllist.set(i, net.minecraftforge.common.ForgeHooks.getContainerItem(itemstack));
         }
 
         return nonnulllist;
@@ -262,7 +257,6 @@
         return true;
     }
 
-    @SideOnly(Side.CLIENT)
     public boolean func_194133_a(int p_194133_1_, int p_194133_2_)
     {
         return p_194133_1_ * p_194133_2_ >= 1;
